---
title: "Current COVID-19 and Vaccination Status in Chile"
description: |
  As on 31 August 2021, 1,638,675 confirmed cases and 36,937 deaths have been recorded, however, the good news is over 70% of the population in Chile is now fully vaccinated. Data from Our World in Data, retrieved on 1 Sep 2021.
categories:
  - Chile
  - Cases and Vaccination
preview: covid.jpg
author:
  - name: Rachel Xinrui WANG
    affiliation: MBAt - Monash Univeristy
date: 09-01-2021
output:
  distill::distill_article:
    self_contained: false
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

```{r library, include=FALSE}
library(tidyverse)
library(formattable)
library(DT)
library(gt)
```

```{r data, include=FALSE}
chile <- read_csv("chile.csv") %>% 
  select(-...1)
```

```{r tabledf, include=FALSE}
cases <- chile %>% 
  filter(date == "2021-08-31") %>% 
  select(iso_code,
         location,
         total_cases,
         new_cases,
         total_deaths,
         new_deaths)

details <- chile %>% 
  filter(date == "2021-08-29") %>% 
  select(-c(date, 
            total_cases,
            new_cases,
            total_deaths,
            new_deaths))

updates <- cases %>% 
  left_join(details,
            by = c("iso_code", "location")) %>% 
  mutate(date = "End of Aug")

monthly <- chile %>% 
  mutate(date = as.character(date)) %>% 
  filter(date %in% c("2021-01-31",
                     "2021-02-28",
                     "2021-03-31",
                     "2021-04-30",
                     "2021-05-31",
                     "2021-06-30",
                     "2021-07-31"))

sumtable <- do.call("rbind", list(monthly, updates))

tabledf <-sumtable %>% 
  select(date,
         total_cases,
         total_tests,
         total_deaths,
         people_vaccinated_per_hundred,
         people_fully_vaccinated_per_hundred) %>% 
  rename("Date" = date,
         "Confirmed Cases" = total_cases,
         "Tests Conducted" = total_tests,
         "Deaths" = total_deaths,
          "Vaccinated %" = people_vaccinated_per_hundred,
          "Fully Vaccinated %" = people_fully_vaccinated_per_hundred)

```

After fighting against COVID-19 for almost a year, vaccine became available in January 2021, and made significant contributions in protecting people from the virus. The table below demonstrates a monthly summary regarding number of tests performed per confirmed case, rate of positive test results, number of people who are vaccinated and fully vaccinated in Chile since the vaccine was introduced.

```{r table1}
tabledf1 <- sumtable %>% 
  select(date,
         tests_per_case,
         positive_rate,
         people_vaccinated,
         people_fully_vaccinated) %>% 
  gt() %>% 
  tab_header(title = "Positive Rate by Tests Dropped to 0.01 with Over 14 Million People Vaccinated",
             subtitle = "Most Recent Updates Recorded in the End of August 2021") %>% 
  cols_align(align = "center",
             columns = 2:5) %>% 
  tab_source_note(md("Source: 2021 *Our World in Data*")) %>% 
  cols_label(date = html("Date"),
             tests_per_case = html("Tests per Case"),
             positive_rate = html("Positive Rate"),
             people_vaccinated = html("Vaccinated"),
             people_fully_vaccinated = html("Fully Vaccinated"))

tabledf1 
```

The positive rate dropped from 0.074 in January when there were only around 57 thousand people vaccinated, to 0.011 in August where more than 14 million people vaccinated, and over 13 million among them are fully vaccinated. Number of tests conducted to detect a positive case also increased from 13 to 89, suggests that by the end of August in 2020, only 1 person may test positive in 89 tests. The statistics above shows a very encouraging trend of the COVID-19 situation in Chile, **the spread of COVID-19 virus is getting under control while majority of the population is now fully vaccinated.**

A clearer picture can be observed from the table below regarding the vaccination progress as well as the cumulative number of confirmed cases, tests conducted and deaths since January 2021. By the end of August 2021, when over 70% of the population in Chile are fully vaccinated (about 75% had their first vaccine), the increasing trend of confirmed cases slowed down. The number of new confirmed cases per month dropped from about 100,000 to slightly over 20,000, however, the number of deaths kept increasing at a relatively steady pace. 

As on 31 August 2021, 1,638,675 confirmed cases have been recorded in total, with 36,937 deaths, these figures are still concerning even though the overall COVID-19 situation in Chile is getting better with majority of the population fully vaccinated. The number of new deaths and daily confirmed cases are expected to continue decreasing while more people are getting vaccinated, and hopefully the spread of virus could be fully controlled in the near future.

```{r table2}
formattable(tabledf, 
            align = c("l", "c", "c", "c", "r", "r"),
            list(`Date` = formatter("span",
                                          style = ~style(color = "grey",
                                                         font.weight = "bold")),
                 `Confirmed Cases` = color_tile("transparent", "tomato"),
                 `Tests Conducted` = color_tile("transparent", "steelblue3"),
                 `Deaths` = color_tile("transparent", "lightcoral"),
                 `Vaccinated %` = color_bar("lightgreen"),
                 `Fully Vaccinated %` = color_bar("limegreen")))
```

Historical data of daily and cumulative confirmed cases, deaths, tests performed, vaccination administrated and number of people vaccinated from February 2020 to August 2021 is also available below for anyone who is interested.

```{r, include=FALSE}
tabledf2 <- chile %>% 
  select(date,
         new_cases,
         total_cases,
         new_deaths,
         total_deaths,
         new_tests,
         total_tests,
         new_vaccinations,
         total_vaccinations,
         people_vaccinated,
         people_fully_vaccinated)
```

```{r table3}
datatable(tabledf2,
          colnames = c("Date", "New Cases", "Total Cases", "New Deaths", "Total Deaths",
                       "New Tests", "Total Tests", "New Vaccinations", "Total Vaccinations",
                       "People Vaccinated", "People Fully Vaccinated"),
          options = list(initComplete = JS(
          "function(settings, json) {",
          "$(this.api().table().header()).css({'background-color': '#404b5d', 'color': '#fff'});",
          "}"),
          pageLength = 5,
          scrollX = TRUE,
          columnDefs = list(list(className = "dt-center", targets = 2:11),
                            list(className = "dt-left", targets = 1)))
          )
```

